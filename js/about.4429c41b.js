(self["webpackChunkbook_management"]=self["webpackChunkbook_management"]||[]).push([[443],{4889:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return c}});var i=function(){var t=this;t._self._c;return t._m(0)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v("This is an about page")])])}],s=o(1001),n={},r=(0,s.Z)(n,i,a,!1,null,null,null),c=r.exports},5608:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return d}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("nav",{staticClass:"navbar navbar-light bg-light",staticStyle:{width:"15%","margin-left":"auto","margin-right":"5%"}},[e("form",{staticClass:"form-inline",staticStyle:{"margin-right":"auto","margin-left":"auto"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKeyWord,expression:"searchKeyWord"}],staticClass:"form-control mr-sm-2",attrs:{type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:t.searchKeyWord},on:{input:function(e){e.target.composing||(t.searchKeyWord=e.target.value)}}})])]),e("div",{staticClass:"container border-show center-div"},[t._v(" "+t._s(t.getBookInfo)+" "),e("div",{staticClass:"row"},t._l(t.showBookList,(function(o,i){return e("div",{key:i,staticClass:"col-sm-3"},[e("div",{staticClass:"card border-show",staticStyle:{width:"100%"}},[o.bookCover?e("img",{staticStyle:{margin:"auto",height:"10%",width:"10%"},attrs:{src:o.bookCover}}):e("h2",[t._v("The book haven't cover.😢")]),e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(o.bookName))]),e("p",{staticClass:"card-text"},[t._v(t._s(o.bookIntro))]),o.ratingCount>0?e("p",{staticClass:"card-text"},[t._v("當前評分: "+t._s(parseFloat(o.bookRatingValue/o.ratingCount+"").toFixed(2))+" ("+t._s(o.ratingCount)+")")]):e("p",{staticClass:"card-text"},[t._v("當前評分: 0 (0)")]),e("p",[t._v("我來評價(點擊星星來評分;雙擊後送出評分):")]),e("div",{staticStyle:{margin:"auto",height:"auto",width:"40%"},attrs:{id:"ratingboard"},on:{mouseleave:function(e){return t.MouseLeave(e,o)}}},[e("span",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:()=>{t.TouchRating(o)},expression:"() => { TouchRating(item); }",arg:"touchhold"}],staticClass:"fa fa-star",class:{checked:o.bookRating[0].isChecked},attrs:{id:o.bookRating[0].id},on:{click:function(e){return t.ClickStar(e,o)},dblclick:function(e){return t.ClickRating(o)}}}),e("span",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:()=>{t.TouchRating(o)},expression:"() => { TouchRating(item); }",arg:"touchhold"}],staticClass:"fa fa-star",class:{checked:o.bookRating[1].isChecked},attrs:{id:o.bookRating[1].id},on:{click:function(e){return t.ClickStar(e,o)},dblclick:function(e){return t.ClickRating(o)}}}),e("span",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:()=>{t.TouchRating(o)},expression:"() => { TouchRating(item); }",arg:"touchhold"}],staticClass:"fa fa-star",class:{checked:o.bookRating[2].isChecked},attrs:{id:o.bookRating[2].id},on:{click:function(e){return t.ClickStar(e,o)},dblclick:function(e){return t.ClickRating(o)}}}),e("span",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:()=>{t.TouchRating(o)},expression:"() => { TouchRating(item); }",arg:"touchhold"}],staticClass:"fa fa-star",class:{checked:o.bookRating[3].isChecked},staticStyle:{},attrs:{id:o.bookRating[3].id},on:{click:function(e){return t.ClickStar(e,o)},dblclick:function(e){return t.ClickRating(o)}}}),e("span",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:()=>{t.TouchRating(o)},expression:"() => { TouchRating(item); }",arg:"touchhold"}],staticClass:"fa fa-star",class:{checked:o.bookRating[4].isChecked},attrs:{id:o.bookRating[4].id},on:{click:function(e){return t.ClickStar(e,o)},dblclick:function(e){return t.ClickRating(o)}}})]),e("a",{staticClass:"btn btn-primary",staticStyle:{"margin-top":"5%"},attrs:{href:"#"},on:{click:t.ClickPurchased}},[t._v("我想購買")])])])])})),0)])])},a=[],s=o(6369),n=o(2634),r=o.n(n);s.ZP.use(r());var c=s.ZP.extend({data(){return{showBookList:[],allBookList:[],searchKeyWord:"",ratingMax:5}},computed:{getBookInfo(){this.showBookList=this.$store.getters.getbookInfo,this.allBookList=this.$store.getters.getbookInfo,this.searchKeyWord.length>0?this.showBookList=this.showBookList.filter((t=>t.bookName.includes(this.searchKeyWord))):this.showBookList=this.allBookList}},methods:{TouchRating(t){if(confirm("送出評分嗎?")){let e=this.showBookList.findIndex((e=>e.bookId==t.bookId)),o=0;this.showBookList[e].bookRating.map((t=>{o+=t.isChecked?1:0})),this.showBookList[e].bookRatingValue=this.showBookList[e].bookRatingValue+o,this.showBookList[e].ratingCount++,this.$store.commit("updateBookList",this.allBookList)}},ClickRating(t){if(confirm("送出評分嗎?")){let e=this.showBookList.findIndex((e=>e.bookId==t.bookId)),o=0;this.showBookList[e].bookRating.map((t=>{o+=t.isChecked?1:0})),this.showBookList[e].bookRatingValue=this.showBookList[e].bookRatingValue+o,this.showBookList[e].ratingCount++,this.$store.commit("updateBookList",this.allBookList)}},MouseLeave(t,e){for(let o=0;o<this.ratingMax;o++)e.bookRating[o].isChecked=!1},ClickStar(t,e){let o=t.target.id.split("-")[1].split("_")[1];for(let i=0;i<this.ratingMax;i++)e.bookRating[i].isChecked=i<=o},ClickPurchased(){alert("這是一個永遠不會推出的功能。")}}}),u=c,l=o(1001),h=(0,l.Z)(u,i,a,!1,null,null,null),d=h.exports},4662:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return l}});var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"container border-show center-div"},[t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bookName,expression:"bookName"}],staticClass:"form-control",attrs:{type:"text",id:"book-name","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm"},domProps:{value:t.bookName},on:{input:function(e){e.target.composing||(t.bookName=e.target.value)}}}),t._m(1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.bookIntro,expression:"bookIntro"}],staticClass:"form-control",attrs:{type:"text",id:"book-introduction","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm"},domProps:{value:t.bookIntro},on:{input:function(e){e.target.composing||(t.bookIntro=e.target.value)}}}),t._m(2),e("input",{staticClass:"form-control",attrs:{type:"file",id:"book-cover","aria-label":"Small","aria-describedby":"inputGroup-sizing-sm"},on:{change:t.UploadImage}}),e("button",{staticClass:"btn btn-primary",staticStyle:{margin:"auto"},on:{click:t.SubmitAll}},[t._v("新建圖書")]),e("h5",[t._v("預覽:")]),t.imageBytes?e("img",{attrs:{src:t.imageBytes,alt:"DefaultCover",height:"100px",width:"150px"}}):t._e()])},a=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("書名")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("簡介")])])},function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-sm"}},[t._v("封面")])])}],s=(o(7658),o(6369)),n=(0,s.aZ)({name:"UploadBookInfo",data(){return{bookName:"",bookIntro:"",imageBytes:"",bookId:this.$store.getters.getBookIdx,bookRatingValue:0}},methods:{SubmitAll(){let t={bookId:`book_${this.$store.getters.getBookIdx}`,bookName:this.bookName,bookIntro:this.bookIntro,bookCover:this.imageBytes,bookRatingValue:this.bookRatingValue,bookRating:[],ratingCount:0};for(let e=0;e<5;e++)t.bookRating.push({id:`book_${this.$store.getters.getBookIdx}-star_${e}`,class:"fa fa-star",isChecked:!1});this.$store.commit("setBookInfo",t),this.$store.commit("updateBookIdx"),alert(`新增:\n                    書名: ${this.bookName}\n                    簡介: ${this.bookIntro}\n                    封面: ${this.imageBytes.length>0?"已經上傳":"未上傳"}\n                   完畢`),this.imageBytes=""},async UploadImage(t){let e=t.target,o=e?.files?.[0];o&&(this.imageBytes=await this.readAsDataURL(o))},async readAsDataURL(t){return new Promise(((e,o)=>{const i=new FileReader;i.onload=()=>e(i?.result),i.onerror=o,i.readAsDataURL(t)}))}}}),r=n,c=o(1001),u=(0,c.Z)(r,i,a,!1,null,null,null),l=u.exports},2634:function(t,e,o){function i(t){return-1!==t.type.indexOf("mouse")?t.clientX:t.touches[0].clientX}function a(t){return-1!==t.type.indexOf("mouse")?t.clientY:t.touches[0].clientY}o(7658);var s=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(o){}return t}(),n=0,r={install:function(t,e){var o=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",namespace:"touch"},e);function r(t){var e=this.$$touchObj,o=t.type.indexOf("touch")>=0,s=t.type.indexOf("mouse")>=0,r=this;o&&(n=t.timeStamp),s&&n&&t.timeStamp-n<350||e.touchStarted||(p(this),e.touchStarted=!0,e.touchMoved=!1,e.swipeOutBounded=!1,e.startX=i(t),e.startY=a(t),e.currentX=0,e.currentY=0,e.touchStartTime=t.timeStamp,e.touchHoldTimer=setTimeout((function(){e.touchHoldTimer=null,m(t,r,"touchhold")}),e.options.touchHoldTolerance),m(t,this,"start"))}function c(t){var e=this.$$touchObj;if(e.currentX=i(t),e.currentY=a(t),e.touchMoved){if(!e.swipeOutBounded){var o=e.options.swipeTolerance;e.swipeOutBounded=Math.abs(e.startX-e.currentX)>o&&Math.abs(e.startY-e.currentY)>o}}else{var s=e.options.tapTolerance;e.touchMoved=Math.abs(e.startX-e.currentX)>s||Math.abs(e.startY-e.currentY)>s,e.touchMoved&&(k(e),m(t,this,"moved"))}e.touchMoved&&m(t,this,"moving")}function u(){var t=this.$$touchObj;k(t),v(this),t.touchStarted=t.touchMoved=!1,t.startX=t.startY=0}function l(t){var e=this.$$touchObj,o=t.type.indexOf("touch")>=0,i=t.type.indexOf("mouse")>=0;o&&(n=t.timeStamp);var a=o&&!e.touchHoldTimer;if(k(e),e.touchStarted=!1,v(this),!(i&&n&&t.timeStamp-n<350))if(m(t,this,"end"),e.touchMoved){if(!e.swipeOutBounded){var s,r=e.options.swipeTolerance,c=Math.abs(e.startY-e.currentY),u=Math.abs(e.startX-e.currentX);(c>r||u>r)&&(s=c>u?e.startY>e.currentY?"top":"bottom":e.startX>e.currentX?"left":"right",e.callbacks["swipe."+s]?m(t,this,"swipe."+s,s):m(t,this,"swipe",s))}}else if(e.callbacks.longtap&&t.timeStamp-e.touchStartTime>e.options.longTapTimeInterval)t.cancelable&&t.preventDefault(),m(t,this,"longtap");else{if(e.callbacks.touchhold&&a)return void(t.cancelable&&t.preventDefault());m(t,this,"tap")}}function h(){p(this)}function d(){v(this)}function m(t,e,o,i){var a=e.$$touchObj,s=a&&a.callbacks[o]||[];if(0===s.length)return null;for(var n=0;n<s.length;n++){var r=s[n];r.modifiers.stop&&t.stopPropagation(),r.modifiers.prevent&&t.cancelable&&t.preventDefault(),r.modifiers.self&&t.target!==t.currentTarget||"function"===typeof r.value&&(i?r.value(i,t):r.value(t))}}function p(t){var e=t.$$touchObj.options.touchClass;e&&t.classList.add(e)}function v(t){var e=t.$$touchObj.options.touchClass;e&&t.classList.remove(e)}function k(t){t.touchHoldTimer&&(clearTimeout(t.touchHoldTimer),t.touchHoldTimer=null)}function b(t,e){var i=t.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:o};return e&&(i.options=Object.assign({},i.options,e)),t.$$touchObj=i,t.$$touchObj}t.directive(o.namespace,{bind:function(t,e){var o=b(t),i=!!s&&{passive:!0},a=e.arg||"tap";switch(a){case"swipe":var n=e.modifiers;if(n.left||n.right||n.top||n.bottom){for(var m in e.modifiers)if(["left","right","top","bottom"].indexOf(m)>=0){var p="swipe."+m;o.callbacks[p]=o.callbacks[p]||[],o.callbacks[p].push(e)}}else o.callbacks.swipe=o.callbacks.swipe||[],o.callbacks.swipe.push(e);break;case"start":case"moving":e.modifiers.disablePassive&&(i=!1);default:o.callbacks[a]=o.callbacks[a]||[],o.callbacks[a].push(e)}o.hasBindTouchEvents||(t.addEventListener("touchstart",r,i),t.addEventListener("touchmove",c,i),t.addEventListener("touchcancel",u),t.addEventListener("touchend",l),o.options.disableClick||(t.addEventListener("mousedown",r),t.addEventListener("mousemove",c),t.addEventListener("mouseup",l),t.addEventListener("mouseenter",h),t.addEventListener("mouseleave",d)),o.hasBindTouchEvents=!0)},unbind:function(t){t.removeEventListener("touchstart",r),t.removeEventListener("touchmove",c),t.removeEventListener("touchcancel",u),t.removeEventListener("touchend",l),t.$$touchObj&&!t.$$touchObj.options.disableClick&&(t.removeEventListener("mousedown",r),t.removeEventListener("mousemove",c),t.removeEventListener("mouseup",l),t.removeEventListener("mouseenter",h),t.removeEventListener("mouseleave",d)),delete t.$$touchObj}}),t.directive(o.namespace+"-class",{bind:function(t,e){b(t,{touchClass:e.value})}}),t.directive(o.namespace+"-options",{bind:function(t,e){b(t,e.value)}})}};t.exports=r}}]);
//# sourceMappingURL=about.4429c41b.js.map